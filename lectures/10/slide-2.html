<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>10.2 –í—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ | –§—ñ–Ω–∞–Ω—Å–æ–≤–∞ –ë–µ–∑–ø–µ–∫–∞</title>
  <link rel="icon" type="image/svg+xml" href="../../img/favicon.svg">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/slides.css">
</head>
<body>

  <div class="top-controls">
    <a href="../../lecture.html?id=10">
      <svg viewBox="0 0 24 24"><path d="m15 18-6-6 6-6"/></svg>
      –î–æ –ª–µ–∫—Ü—ñ—ó
    </a>
    <button onclick="toggleTheme()">
      <span id="theme-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg></span>
      <span id="theme-label">–°–≤—ñ—Ç–ª–∞</span>
    </button>
  </div>

  <div class="slide-deck">

    <section class="slide active">
      <span class="slide-icon">üìú</span>
      <h1>–í—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤</h1>
      <p class="subtitle">–õ–µ–∫—Ü—ñ—è 10.2</p>
      <span class="tag tag-blue" style="margin-top: 1rem;">Reentrancy, overflow, access control, –∞—É–¥–∏—Ç</span>
    </section>

    <section class="slide">
      <h1>–ß–æ–º—É —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ –≤—Ä–∞–∑–ª–∏–≤—ñ?</h1>
      <div class="icon-list">
        <div class="icon-list-item">
          <span class="il-icon">üîí</span>
          <span class="il-text"><strong>Immutable</strong> ‚Äî –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –∫–æ–¥ –ù–ï –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ (–±–µ–∑ proxy)</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">üëÅÔ∏è</span>
          <span class="il-text"><strong>Public</strong> ‚Äî –∫–æ–¥ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π, –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ –±–∞—á–∏—Ç—å –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">üí∞</span>
          <span class="il-text"><strong>Value</strong> ‚Äî –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –º—ñ–ª—å—è—Ä–¥–∏, –º–æ—Ç–∏–≤–∞—Ü—ñ—è –¥–ª—è –∞—Ç–∞–∫ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">‚ö°</span>
          <span class="il-text"><strong>Composability</strong> ‚Äî –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –æ–¥–∏–Ω –∑ –æ–¥–Ω–∏–º, –∞—Ç–∞–∫–∞ –Ω–∞ –æ–¥–∏–Ω = –∫–∞—Å–∫–∞–¥</span>
        </div>
      </div>
    </section>

    <section class="slide">
      <h1>Reentrancy Attack</h1>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-title">Withdraw</div>
          <div class="step-desc">–ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑–∞–ø–∏—Ç—É—î –≤–∏–≤—ñ–¥ –∫–æ—à—Ç—ñ–≤</div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-title">Callback</div>
          <div class="step-desc">–ö–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–∞–¥—Å–∏–ª–∞—î ETH ‚Üí –∑–ª–æ–≤–º–∏—Å–Ω–∏–π fallback</div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-title">Re-enter</div>
          <div class="step-desc">Fallback –∑–Ω–æ–≤—É –≤–∏–∫–ª–∏–∫–∞—î withdraw (–±–∞–ª–∞–Ω—Å –Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–æ!)</div>
        </div>
        <div class="step">
          <div class="step-num">4</div>
          <div class="step-title">Drain</div>
          <div class="step-desc">–¶–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—é—î—Ç—å—Å—è ‚Äî –≤–µ—Å—å –±–∞–ª–∞–Ω—Å –≤–∏—á–µ—Ä–ø–∞–Ω–æ</div>
        </div>
      </div>
      <div class="highlight-box danger" style="margin-top: 1.2rem;">
        <p>The DAO (2016): reentrancy ‚Üí $60M ETH –≤–∫—Ä–∞–¥–µ–Ω–æ ‚Üí —Ñ–æ—Ä–∫ Ethereum –Ω–∞ ETH —Ç–∞ ETC.</p>
      </div>
    </section>

    <section class="slide">
      <h1>–Ü–Ω—à—ñ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ</h1>
      <div class="card-grid">
        <div class="card accent-red">
          <span class="card-icon">üî¢</span>
          <div class="card-title">Integer Overflow</div>
          <div class="card-text">0 - 1 = MAX_UINT256. Solidity 0.8+ –º–∞—î –∑–∞—Ö–∏—Å—Ç, —Å—Ç–∞—Ä—ñ ‚Äî –Ω—ñ</div>
        </div>
        <div class="card accent-orange">
          <span class="card-icon">üîì</span>
          <div class="card-title">Access Control</div>
          <div class="card-text">–ö—Ä–∏—Ç–∏—á–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –±–µ–∑ onlyOwner = –±—É–¥—å-—Ö—Ç–æ –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏</div>
        </div>
        <div class="card accent-purple">
          <span class="card-icon">‚è©</span>
          <div class="card-title">Front-running</div>
          <div class="card-text">–ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –±–∞—á–∏—Ç—å mempool ‚Üí –≤–∏—â–∞ gas price ‚Üí –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø–µ—Ä—à–∏–º</div>
        </div>
        <div class="card accent-blue">
          <span class="card-icon">üì°</span>
          <div class="card-title">Oracle Manipulation</div>
          <div class="card-text">–ú–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ—é —Ü—ñ–Ω–æ—é ‚Üí –¥–µ—à–µ–≤–∏–π –∫—Ä–µ–¥–∏—Ç ‚Üí –≤–∏–ª—É—á–µ–Ω–Ω—è –∫–æ—à—Ç—ñ–≤</div>
        </div>
      </div>
    </section>

    <section class="slide">
      <h1>–ó–∞—Ö–∏—Å—Ç —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤</h1>
      <div class="icon-list">
        <div class="icon-list-item">
          <span class="il-icon">üîç</span>
          <span class="il-text"><strong>–ê—É–¥–∏—Ç –∫–æ–¥—É</strong> ‚Äî –º—ñ–Ω. 2 –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –∞—É–¥–∏—Ç–∏ (Trail of Bits, OpenZeppelin)</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">üìê</span>
          <span class="il-text"><strong>Formal verification</strong> ‚Äî –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–π –¥–æ–∫–∞–∑ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ (Certora, K Framework)</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">üêõ</span>
          <span class="il-text"><strong>Bug bounty</strong> ‚Äî Immunefi: –¥–æ $10M –∑–∞ critical vulnerability</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">üìö</span>
          <span class="il-text"><strong>OpenZeppelin</strong> ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –¥–ª—è ERC-20, ERC-721, access control</span>
        </div>
      </div>
    </section>

    <section class="slide">
      <h1>Reentrancy: The DAO (–¥–µ—Ç–∞–ª—å–Ω–æ)</h1>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-title">The DAO</div>
          <div class="step-desc">–Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–∏–π —Ñ–æ–Ω–¥ –Ω–∞ Ethereum, –∑—ñ–±—Ä–∞–≤ $150M ETH (2016)</div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-title">splitDAO()</div>
          <div class="step-desc">–§—É–Ω–∫—Ü—ñ—è –≤–∏–≤–µ–¥–µ–Ω–Ω—è: —Å–ø–æ—á–∞—Ç–∫—É –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î ETH, –ø–æ—Ç—ñ–º –æ–Ω–æ–≤–ª—é—î –±–∞–ª–∞–Ω—Å</div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-title">Exploit</div>
          <div class="step-desc">Fallback ‚Üí –ø–æ–≤—Ç–æ—Ä–Ω–∏–π –≤–∏–∫–ª–∏–∫ splitDAO() –¥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É: $60M –≤–∫—Ä–∞–¥–µ–Ω–æ</div>
        </div>
        <div class="step">
          <div class="step-num">4</div>
          <div class="step-title">Hard Fork</div>
          <div class="step-desc">Ethereum —Å–ø—ñ–ª—å–Ω–æ—Ç–∞ –≤—ñ–¥–∫–æ—Ç–∏–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó ‚Üí —Ä–æ–∑–∫–æ–ª –Ω–∞ ETH —Ç–∞ ETC</div>
        </div>
      </div>
      <div class="highlight-box danger" style="margin-top: 1.2rem;">
        <p>–ó–∞—Ö–∏—Å—Ç: Checks-Effects-Interactions pattern ‚Äî –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞–Ω –î–û –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É. ReentrancyGuard –≤—ñ–¥ OpenZeppelin.</p>
      </div>
    </section>

    <section class="slide">
      <h1>Integer Overflow/Underflow</h1>
      <div class="two-col">
        <div class="col">
          <div class="card accent-red" style="height: 100%;">
            <span class="card-icon">üí•</span>
            <div class="card-title">Overflow (–¥–æ Solidity 0.8)</div>
            <div class="card-text" style="margin-top: 8px; font-size: 0.95rem; line-height: 1.7;">
              uint8 max = 255<br>
              255 + 1 = 0 (–ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è!)<br>
              –ê—Ç–∞–∫—É—é—á–∏–π –æ—Ç—Ä–∏–º—É—î –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ —Ç–æ–∫–µ–Ω–∏<br>
              BEC Token (2018): $900M –æ–±–Ω—É–ª–µ–Ω–æ
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card accent-orange" style="height: 100%;">
            <span class="card-icon">üìâ</span>
            <div class="card-title">Underflow (–¥–æ Solidity 0.8)</div>
            <div class="card-text" style="margin-top: 8px; font-size: 0.95rem; line-height: 1.7;">
              uint256 balance = 0<br>
              0 - 1 = MAX_UINT256<br>
              –ë–∞–ª–∞–Ω—Å —Å—Ç–∞—î –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—á–Ω–∏–º<br>
              –û–±—Ö—ñ–¥ –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –Ω–∞ –¥–æ—Å—Ç–∞—Ç–Ω—ñ—Å—Ç—å –∫–æ—à—Ç—ñ–≤
            </div>
          </div>
        </div>
      </div>
      <div class="highlight-box" style="margin-top: 1.2rem;">
        <p>Solidity 0.8+ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î overflow/underflow (revert). –î–ª—è —Å—Ç–∞—Ä–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤: SafeMath –≤—ñ–¥ OpenZeppelin.</p>
      </div>
    </section>

    <section class="slide">
      <h1>–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∞—É–¥–∏—Ç—É —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤</h1>
      <div class="card-grid">
        <div class="card accent-green">
          <span class="card-icon">üêç</span>
          <div class="card-title">Slither</div>
          <div class="card-text">–°—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ (Trail of Bits). –®–≤–∏–¥–∫–∏–π, 90+ –¥–µ—Ç–µ–∫—Ç–æ—Ä—ñ–≤, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ CI/CD. –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π</div>
        </div>
        <div class="card accent-purple">
          <span class="card-icon">üîÆ</span>
          <div class="card-title">Mythril</div>
          <div class="card-text">–°–∏–º–≤–æ–ª—ñ—á–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (ConsenSys). –ì–ª–∏–±—à–∏–π –∞–Ω–∞–ª—ñ–∑, –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —Å–∫–ª–∞–¥–Ω—ñ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ. –ü–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π</div>
        </div>
        <div class="card accent-blue">
          <span class="card-icon">üê∞</span>
          <div class="card-title">Echidna</div>
          <div class="card-text">–§–∞–∑–∑—ñ–Ω–≥ (Trail of Bits). –ì–µ–Ω–µ—Ä—É—î –≤–∏–ø–∞–¥–∫–æ–≤—ñ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ, –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É</div>
        </div>
        <div class="card accent-orange">
          <span class="card-icon">üè¢</span>
          <div class="card-title">–†—É—á–Ω–∏–π –∞—É–¥–∏—Ç</div>
          <div class="card-text">Trail of Bits, OpenZeppelin, Certik. $50K-$500K –∑–∞ –∞—É–¥–∏—Ç. –ù–µ–∑–∞–º—ñ–Ω–Ω–∏–π –¥–ª—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏</div>
        </div>
      </div>
      <div class="highlight-box" style="margin-top: 1.2rem;">
        <p>–ù–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (Slither + Mythril) + —Ä—É—á–Ω–∏–π –∞—É–¥–∏—Ç + bug bounty –ø—Ä–æ–≥—Ä–∞–º–∞.</p>
      </div>
    </section>

    <section class="slide">
      <h1>–§–æ—Ä–º–∞–ª—å–Ω–∞ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è</h1>
      <div class="icon-list">
        <div class="icon-list-item">
          <span class="il-icon">üìê</span>
          <span class="il-text"><strong>–©–æ —Ü–µ?</strong> ‚Äî –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–π –¥–æ–∫–∞–∑, —â–æ –∫–æ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –Ω–∞ 100%</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">üî¨</span>
          <span class="il-text"><strong>Certora Prover</strong> ‚Äî –ø–∏—à–µ –ø—Ä–∞–≤–∏–ª–∞ (—ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∏) —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ó—Ö –¥–ª—è –í–°–Ü–• –º–æ–∂–ª–∏–≤–∏—Ö —Å—Ç–∞–Ω—ñ–≤</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">üßÆ</span>
          <span class="il-text"><strong>K Framework</strong> ‚Äî —Ñ–æ—Ä–º–∞–ª—å–Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ EVM, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó MakerDAO, Uniswap</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">‚öñÔ∏è</span>
          <span class="il-text"><strong>–û–±–º–µ–∂–µ–Ω–Ω—è</strong> ‚Äî –¥–æ—Ä–æ–≥–æ ($100K+), –¥–æ–≤–≥–æ (–º—ñ—Å—è—Ü—ñ), –≤–µ—Ä–∏—Ñ—ñ–∫—É—î –ª–∏—à–µ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–æ–≤–∞–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ</span>
        </div>
      </div>
      <div class="highlight-box" style="margin-top: 1.2rem;">
        <p>–ê—É–¥–∏—Ç –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –≤—ñ–¥–æ–º—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π. –§–æ—Ä–º–∞–ª—å–Ω–∞ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –¥–æ–≤–æ–¥–∏—Ç—å –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ü—ñ–ª–∏—Ö –∫–ª–∞—Å—ñ–≤ –ø–æ–º–∏–ª–æ–∫.</p>
      </div>
    </section>

    <section class="slide">
      <span class="slide-icon">üõ°Ô∏è</span>
      <h1>–ö–ª—é—á–æ–≤—ñ –≤–∏—Å–Ω–æ–≤–∫–∏</h1>
      <div class="icon-list">
        <div class="icon-list-item">
          <span class="il-icon">1Ô∏è‚É£</span>
          <span class="il-text"><strong>Reentrancy</strong> ‚Äî #1 –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å, Checks-Effects-Interactions pattern</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">2Ô∏è‚É£</span>
          <span class="il-text"><strong>Immutable code</strong> ‚Äî –ø–æ–º–∏–ª–∫—É –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –Ω–µ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –±–µ–∑ proxy</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">3Ô∏è‚É£</span>
          <span class="il-text"><strong>–ê—É–¥–∏—Ç</strong> ‚Äî –º—ñ–Ω—ñ–º—É–º 2 –∞—É–¥–∏—Ç–∏ + formal verification –¥–ª—è DeFi</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">4Ô∏è‚É£</span>
          <span class="il-text"><strong>OpenZeppelin</strong> ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏, –Ω–µ –ø–∏—à—ñ—Ç—å –∑ –Ω—É–ª—è</span>
        </div>
      </div>
    </section>

  </div>

  <div class="slide-counter" id="counter"></div>
  <div class="slide-progress" id="progress"></div>

  <div class="controls">
    <button onclick="prev()">&#8592;</button>
    <button onclick="next()">&#8594;</button>
  </div>

  <script src="../../js/slides.js"></script>

</body>
</html>
