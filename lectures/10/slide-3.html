<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>10.3 Безпека DeFi | Фінансова Безпека</title>
  <link rel="icon" type="image/svg+xml" href="../../img/favicon.svg">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/slides.css">
</head>
<body>

  <div class="top-controls">
    <a href="../../lecture.html?id=10">
      <svg viewBox="0 0 24 24"><path d="m15 18-6-6 6-6"/></svg>
      До лекції
    </a>
    <button onclick="toggleTheme()">
      <span id="theme-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg></span>
      <span id="theme-label">Світла</span>
    </button>
  </div>

  <div class="slide-deck">

    <section class="slide active">
      <span class="slide-icon">🏗️</span>
      <h1>Безпека DeFi</h1>
      <p class="subtitle">Лекція 10.3</p>
      <span class="tag tag-blue" style="margin-top: 1rem;">Flash loans, oracle manipulation, rug pulls</span>
    </section>

    <section class="slide">
      <h1>DeFi: масштаб ризику</h1>
      <div class="stat-row">
        <div class="stat-box blue">
          <div class="stat-value">$100B+</div>
          <div class="stat-label">Total Value Locked у DeFi</div>
        </div>
        <div class="stat-box red">
          <div class="stat-value">$3B+</div>
          <div class="stat-label">втрати від DeFi-зломів (2022-2023)</div>
        </div>
        <div class="stat-box orange">
          <div class="stat-value">#1</div>
          <div class="stat-label">найбільш атакований сегмент крипто</div>
        </div>
      </div>
    </section>

    <section class="slide">
      <h1>Flash Loan атаки</h1>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-title">Позика (Borrow)</div>
          <div class="step-desc">Flash loan $100M без застави (одна транзакція)</div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-title">Маніпуляція (Manipulate)</div>
          <div class="step-desc">Маніпуляція ціною на DEX великим обсягом</div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-title">Експлуатація (Exploit)</div>
          <div class="step-desc">Вилучення коштів з протоколу за маніпульованою ціною</div>
        </div>
        <div class="step">
          <div class="step-num">4</div>
          <div class="step-title">Повернення (Repay)</div>
          <div class="step-desc">Повернення кредиту з прибутком. Все atomic</div>
        </div>
      </div>
      <div class="highlight-box" style="margin-top: 1.2rem;">
        <p>Захист: TWAP oracle замість spot price, Chainlink price feeds, перевірка на маніпуляцію.</p>
      </div>
    </section>

    <section class="slide">
      <h1>Rug Pulls</h1>
      <div class="card-grid">
        <div class="card accent-red">
          <span class="card-icon">🚩</span>
          <div class="card-title">Анонімна команда</div>
          <div class="card-text">Ніхто не знає розробників, фейкові профілі</div>
        </div>
        <div class="card accent-orange">
          <span class="card-icon">🚩</span>
          <div class="card-title">Немає аудиту</div>
          <div class="card-text">Код не перевірений, можливі backdoors</div>
        </div>
        <div class="card accent-purple">
          <span class="card-icon">🚩</span>
          <div class="card-title">Необмежена емісія (Unlimited mint)</div>
          <div class="card-text">Owner може мінтити нескінченно токенів</div>
        </div>
        <div class="card accent-blue">
          <span class="card-icon">🚩</span>
          <div class="card-title">Без блокування (No lock)</div>
          <div class="card-text">Liquidity не залочена, team може вивести все</div>
        </div>
      </div>
      <div class="highlight-box danger" style="margin-top: 1.2rem;">
        <p>2021: rug pulls = $2.8B збитків. Перевіряйте: TokenSniffer, GoPlus, locked liquidity, renounced ownership.</p>
      </div>
    </section>

    <section class="slide">
      <h1>Bridge Attacks</h1>
      <h2>Cross-chain мости — найвразливіша точка</h2>
      <div class="icon-list">
        <div class="icon-list-item">
          <span class="il-icon">🎮</span>
          <span class="il-text"><strong>Ronin Bridge</strong> — $625M: social engineering → компрометація 5/9 валідаторів</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">🌀</span>
          <span class="il-text"><strong>Wormhole</strong> — $320M: вразливість у верифікації підписів</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">🏚️</span>
          <span class="il-text"><strong>Nomad</strong> — $190M: помилка ініціалізації, будь-хто міг вивести кошти</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">💡</span>
          <span class="il-text"><strong>Висновок</strong> — мости концентрують ризик: один exploit = сотні мільйонів</span>
        </div>
      </div>
    </section>

    <section class="slide">
      <h1>Flash Loan атаки: механіка детально</h1>
      <div class="icon-list">
        <div class="icon-list-item">
          <span class="il-icon">⚡</span>
          <span class="il-text"><strong>Atomарність</strong> — позика + маніпуляція + exploit + повернення = одна транзакція, або все, або нічого</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">💰</span>
          <span class="il-text"><strong>Без застави</strong> — Aave, dYdX надають $100M+ миттєво; вартість атаки = лише gas (~$50)</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">📊</span>
          <span class="il-text"><strong>Pancake Bunny (2021)</strong> — $45M: flash loan → маніпуляція ціною LP-токенів → мінтинг</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">🔗</span>
          <span class="il-text"><strong>Cream Finance (2021)</strong> — $130M: серія flash loan атак через маніпуляцію ціни oracle</span>
        </div>
      </div>
      <div class="highlight-box danger" style="margin-top: 1.2rem;">
        <p>Flash loans демократизували атаки: не потрібен капітал, лише знання вразливостей протоколу.</p>
      </div>
    </section>

    <section class="slide">
      <h1>Маніпуляція Oracle</h1>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-title">Спотова ціна (Spot Price)</div>
          <div class="step-desc">Протокол використовує поточну ціну з одного DEX як oracle</div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-title">Накачування (Pump)</div>
          <div class="step-desc">Атакуючий купує великий об'єм → ціна токена злітає на DEX</div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-title">Експлуатація (Exploit)</div>
          <div class="step-desc">Бере кредит під «дорогу» заставу або ліквідує чужі позиції</div>
        </div>
        <div class="step">
          <div class="step-num">4</div>
          <div class="step-title">Скидання (Dump)</div>
          <div class="step-desc">Продає токен → ціна повертається, протокол залишається з поганим боргом</div>
        </div>
      </div>
      <div class="highlight-box" style="margin-top: 1.2rem;">
        <p>Захист: Chainlink (децентралізований oracle, агрегація даних з 20+ джерел), Uniswap TWAP (середня ціна за час).</p>
      </div>
    </section>

    <section class="slide">
      <h1>Виявлення Rug Pull</h1>
      <div class="card-grid">
        <div class="card accent-red">
          <span class="card-icon">🔍</span>
          <div class="card-title">Аналіз контракту</div>
          <div class="card-text">Функції mint(), pause(), blacklist() у owner? Можливість заблокувати продаж токенів (honeypot)</div>
        </div>
        <div class="card accent-orange">
          <span class="card-icon">🔒</span>
          <div class="card-title">Блокування ліквідності (Liquidity Lock)</div>
          <div class="card-text">LP-токени залочені? На який термін? Team Tokens lock? Unicrypt, PinkLock для перевірки</div>
        </div>
        <div class="card accent-blue">
          <span class="card-icon">🛠️</span>
          <div class="card-title">Автоматичні сканери</div>
          <div class="card-text">TokenSniffer, GoPlus API, RugDoc, De.Fi Scanner: автоматична оцінка ризику токена</div>
        </div>
        <div class="card accent-green">
          <span class="card-icon">📋</span>
          <div class="card-title">Належна перевірка (Due Diligence)</div>
          <div class="card-text">Реальна команда (KYC)? GitHub активність? Аудит від відомої компанії? Токеноміка розумна?</div>
        </div>
      </div>
    </section>

    <section class="slide">
      <h1>Статистика DeFi зломів</h1>
      <div class="stat-row">
        <div class="stat-box red">
          <div class="stat-value">$6.3B</div>
          <div class="stat-label">загальні втрати DeFi (2020-2024)</div>
        </div>
        <div class="stat-box orange">
          <div class="stat-value">40%</div>
          <div class="stat-label">атаки на bridges (cross-chain)</div>
        </div>
        <div class="stat-box blue">
          <div class="stat-value">30%</div>
          <div class="stat-label">flash loan + oracle маніпуляції</div>
        </div>
      </div>
      <div class="icon-list" style="margin-top: 1.2rem;">
        <div class="icon-list-item">
          <span class="il-icon">🏆</span>
          <span class="il-text"><strong>Топ-3 зломи:</strong> Ronin Bridge $625M, Poly Network $611M, Wormhole $320M</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">📈</span>
          <span class="il-text"><strong>Тренд:</strong> зменшення зломів у 2024 завдяки кращим аудитам та формальній верифікації</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">💡</span>
          <span class="il-text"><strong>Повернення:</strong> ~20% вкрадених коштів повертаються через переговори або white-hat дії</span>
        </div>
      </div>
    </section>

    <section class="slide">
      <span class="slide-icon">🛡️</span>
      <h1>Ключові висновки</h1>
      <div class="icon-list">
        <div class="icon-list-item">
          <span class="il-icon">1️⃣</span>
          <span class="il-text"><strong>Flash loans</strong> — маніпуляція ціною + exploit протоколу в 1 транзакції</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">2️⃣</span>
          <span class="il-text"><strong>Rug pulls</strong> — DYOR: аудит, locked liquidity, команда, renounced ownership</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">3️⃣</span>
          <span class="il-text"><strong>Bridges</strong> — найвразливіша точка DeFi, $1B+ збитків</span>
        </div>
        <div class="icon-list-item">
          <span class="il-icon">4️⃣</span>
          <span class="il-text"><strong>Захист</strong> — TWAP oracle, Chainlink, аудит, formal verification</span>
        </div>
      </div>
    </section>

  </div>

  <div class="slide-counter" id="counter"></div>
  <div class="slide-progress" id="progress"></div>

  <div class="controls">
    <button onclick="prev()">&#8592;</button>
    <button onclick="next()">&#8594;</button>
  </div>

  <script src="../../js/slides.js"></script>

</body>
</html>

